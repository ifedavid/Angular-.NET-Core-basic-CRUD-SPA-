


   



     <ngx-loading [show]="loading"></ngx-loading>

     <div class="container">

       <div style="padding-top:2em;" *ngIf="errorMessage">
         <div class="alert alert-danger alert-dismissible fade show" role="alert" style="text-align:center;">
           <strong>Error!</strong> - {{errorMessage}}
           <button type="button" class="close" data-dismiss="alert" aria-label="Close">
             <span aria-hidden="true">&times;</span>
           </button>
         </div>
       </div>


       <div style="text-align:center; padding-top:2em;">
         <h5>
           Add a new expense record.
           <br />You can add and save multiple records at a go.
         </h5>
       </div>

       <div style="padding-top:2em;">
         <div>
           <a class="roundedCircle" (click)="AddCategory()"> <mat-icon class="MatIcon">add</mat-icon></a>
         </div>
       </div>


       <div *ngIf="!ArrayIsEmpty" style="padding-top:2em;" class="table-responsive-md">
         <table class="table">
           <thead>
             <tr>
               <th scope="col">Expense Details</th>
               <th scope="col">Action</th>
             </tr>
           </thead>
           <tbody>
             <tr *ngFor="let category of Categories.controls; let i = index" >


               <td style="text-align:center; padding-left:2em;">

                 <div [formGroup]="CategoryForm">

                   <div class="row" formArrayName="Categories">

                     <div [formGroupName]="i">

                       <div class="form-row">
                         <div class="form-group col">

                           <input type="text" class="form-control" id="CatName" required formControlName="CategoryName" placeholder="Name">
                         </div>
                         <div class="form-group col">

                           <input  type="number" class="form-control" id="CatAmount" required formControlName="CategoryAmount" placeholder="Amount">
                         </div>


                       </div>

                     </div>

                   </div>

                 </div>

               </td>


               <td>

                 <div>
                   <button  (click)="DeleteCategory(i)" class="btn btn-danger"><mat-icon style="vertical-align:-4px;">delete</mat-icon></button>
                 </div>

               </td>
             </tr>
           </tbody>
         </table>
       </div>

       <div *ngIf="!ArrayIsEmpty" style=" max-width:200px; margin:0 auto; text-align:center;">
         <button type="submit" (click)="SaveCategories()" class="btn btn-block  btn-dark">Save</button>
       </div>


       <div class="table-responsive-md" style="padding-top:2em;">
         <table style="background-color:#64b2cd;" class="table table-hover">
           <caption>Recorded Expenses</caption>
           <thead>
             <tr style="color:white;">
               <th scope="col">#</th>
               <th scope="col">Expense Name</th>
               <th scope="col">Amount Spent</th>
               <th scope="col">Action</th>
             </tr>
           </thead>

           <tbody>

             <tr style="color:#64b2cd; background-color:white;" *ngFor="let category of categoryData; let i = index">
               <th scope="row">{{i}}</th>
               <td>{{category.name}}</td>
               <td>{{category.amount}}</td>
               <td>
                 <a (click)="DeleteSavedCategory(i)"> <mat-icon class="ExpenseIconDelete">delete</mat-icon> </a>
               </td>
             </tr>
           </tbody>
         </table>
       </div>

     </div>







